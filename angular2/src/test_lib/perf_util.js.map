{"version":3,"sources":["perf_util.js"],"names":[],"mappings":"AAAA,KAAK,SAAS,AAAC,IAAoB,UAAS,SAAQ;;;;AAOpD,SAAS,kBAAgB,CAAE,MAAK,CAAG;AACjC,AAAI,MAAA,CAAA,OAAM,EAAI,CAAA,MAAK,QAAQ,IAAI,AAAC,CAAC,SAAS,QAAO,CAAG;AAClD,WAAO,CAAA,CAAA,AAAC,CAAC,QAAO,CAAC,CAAC;IACpB,CAAC,CAAC;AACF,SAAK,KAAK,EAAI,UAAQ,AAAC,CAAE;AACvB,YAAM,QAAQ,AAAC,CAAC,SAAS,MAAK,CAAG;AAC/B,aAAK,MAAM,AAAC,EAAC,CAAC;MAChB,CAAC,CAAC;IACJ,CAAC;AACD,SAAO,CAAA,YAAW,AAAC,CAAC,MAAK,CAAC,CAAC;EAC7B;AAAA,AACA,SAAS,aAAW,CAAE,MAAK,CAAG;AAC5B,SAAO,CAAA,cAAa,AAAC,CAAC,OAAM,OAAO,UAAU,QAAQ,CAAC,KAAK,AAAC,CAAC,SAAS,WAAU,CAAG;AACjF,AAAI,QAAA,CAAA,WAAU,EAAI,GAAC,CAAC;AACpB,AAAI,QAAA,CAAA,SAAQ,EAAI,GAAC,CAAC;AAClB,SAAI,MAAK,OAAO,CAAG;AACjB,aAAK,OAAO,QAAQ,AAAC,CAAC,SAAS,KAAI,CAAG;AACpC,AAAI,YAAA,CAAA,IAAG,EAAI,CAAA,KAAI,KAAK,CAAC;AACrB,AAAI,YAAA,CAAA,KAAI,EAAI,CAAA,gBAAe,AAAC,CAAC,KAAI,MAAM,CAAG,YAAU,CAAG,CAAA,KAAI,MAAM,CAAC,CAAC;AACnE,kBAAQ,KAAK,AAAC,CAAC,IAAG,EAAI,IAAE,CAAA,CAAI,MAAI,CAAC,CAAC;AAClC,oBAAU,CAAE,IAAG,CAAC,EAAI,MAAI,CAAC;QAC3B,CAAC,CAAC;MACJ;AAAA,AACI,QAAA,CAAA,GAAE,EAAI,CAAA,SAAQ,AAAC,CAAC,MAAK,IAAI,EAAI,IAAE,CAAA,CAAI,CAAA,SAAQ,KAAK,AAAC,CAAC,GAAE,CAAC,CAAC,CAAC;AAC3D,YAAM,IAAI,AAAC,CAAC,GAAE,CAAC,CAAC;AAChB,WAAO,CAAA,gBAAe,OAAO,AAAC,CAAC;AAC7B,SAAC,CAAG,CAAA,MAAK,GAAG;AACZ,cAAM,CAAG,CAAA,MAAK,KAAK;AACnB,cAAM,CAAG,CAAA,MAAK,QAAQ;AACtB,mBAAW,CAAG,CAAA,MAAK,aAAa;AAChC,eAAO,CAAG,EAAC,UAAS,KAAK,AAAC,CAAC,UAAS,QAAQ,mBAAmB,CAAC,QAAQ,AAAC,CAAC,WAAU,CAAC,CAAC;AAAA,MACxF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AAAA,AACA,SAAS,eAAa,CAAE,gBAAe,CAAG;AACxC,SAAO,CAAA,OAAM,cAAc,AAAC,CAAC,4BAA2B,CAAC,KAAK,AAAC,CAAC,SAAS,SAAQ,CAAG;AAClF,AAAI,QAAA,CAAA,WAAU,EAAI,EAAA,CAAC;AACnB,qBAAe,QAAQ,AAAC,CAAC,SAAS,KAAI,CAAG;AACvC,WAAI,SAAQ,MAAM,AAAC,CAAC,KAAI,UAAU,CAAC,CAAG;AACpC,oBAAU,EAAI,CAAA,KAAI,MAAM,CAAC;QAC3B;AAAA,MACF,CAAC,CAAC;AACF,WAAO,YAAU,CAAC;IACpB,CAAC,CAAC;EACJ;AAAA,AACA,SAAS,iBAAe,CAAE,KAAI,CAAG,CAAA,WAAU,CAAG,CAAA,MAAK,CAAG;AACpD,OAAI,MAAK,IAAM,OAAK,CAAG;AACrB,WAAO,CAAA,KAAI,EAAI,CAAA,IAAG,KAAK,AAAC,CAAC,WAAU,CAAC,CAAC;IACvC,KAAO,KAAI,MAAK,IAAM,OAAK,CAAG;AAC5B,WAAO,CAAA,KAAI,EAAI,CAAA,IAAG,KAAK,AAAC,CAAC,WAAU,CAAC,CAAC;IACvC,KAAO,KAAI,MAAK,IAAM,SAAO,CAAG;AAC9B,WAAO,CAAA,KAAI,EAAI,YAAU,CAAC;IAC5B,KAAO;AACL,WAAO,MAAI,CAAC;IACd;AAAA,EACF;AA9DA,AA8DA,OA9DO;AACD,UAAM,IAAmB;AACzB,UAAM;eAFG,CAAA,OAAM,AAAC,CAAC,YAAW,CAAC;iBAClB,CAAA,OAAM,AAAC,CAAC,uBAAsB,CAAC;AAChD,WAAK,QAAQ,EAAI;AACf,wBAAgB,CAAG,kBAAgB;AACnC,mBAAW,CAAG,aAAW;AACzB,4BAAoB,CAAG,CAAA,QAAO,sBAAsB;AAAA,MACtD,CAAC;IAJ8B;EAC3B,CAAA;AADI,CAAC,CAAC;AA+DyB","file":"src/test_lib/perf_util.js","sourceRoot":"/Users/justin/workspace/angular2_quckstart/quickstart/node_modules/angular2/es6/prod/","sourcesContent":["var testUtil = require('./e2e_util');\nvar benchpress = require('benchpress/benchpress');\nmodule.exports = {\n  runClickBenchmark: runClickBenchmark,\n  runBenchmark: runBenchmark,\n  verifyNoBrowserErrors: testUtil.verifyNoBrowserErrors\n};\nfunction runClickBenchmark(config) {\n  var buttons = config.buttons.map(function(selector) {\n    return $(selector);\n  });\n  config.work = function() {\n    buttons.forEach(function(button) {\n      button.click();\n    });\n  };\n  return runBenchmark(config);\n}\nfunction runBenchmark(config) {\n  return getScaleFactor(browser.params.benchmark.scaling).then(function(scaleFactor) {\n    var description = {};\n    var urlParams = [];\n    if (config.params) {\n      config.params.forEach(function(param) {\n        var name = param.name;\n        var value = applyScaleFactor(param.value, scaleFactor, param.scale);\n        urlParams.push(name + '=' + value);\n        description[name] = value;\n      });\n    }\n    var url = encodeURI(config.url + '?' + urlParams.join('&'));\n    browser.get(url);\n    return benchpressRunner.sample({\n      id: config.id,\n      execute: config.work,\n      prepare: config.prepare,\n      microMetrics: config.microMetrics,\n      bindings: [benchpress.bind(benchpress.Options.SAMPLE_DESCRIPTION).toValue(description)]\n    });\n  });\n}\nfunction getScaleFactor(possibleScalings) {\n  return browser.executeScript('return navigator.userAgent').then(function(userAgent) {\n    var scaleFactor = 1;\n    possibleScalings.forEach(function(entry) {\n      if (userAgent.match(entry.userAgent)) {\n        scaleFactor = entry.value;\n      }\n    });\n    return scaleFactor;\n  });\n}\nfunction applyScaleFactor(value, scaleFactor, method) {\n  if (method === 'log2') {\n    return value + Math.log2(scaleFactor);\n  } else if (method === 'sqrt') {\n    return value * Math.sqrt(scaleFactor);\n  } else if (method === 'linear') {\n    return value * scaleFactor;\n  } else {\n    return value;\n  }\n}\n//# sourceMappingURL=perf_util.es6.map\n\n//# sourceMappingURL=./perf_util.map"]}