{"version":3,"sources":["selector.js"],"names":[],"mappings":"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","file":"src/core/compiler/selector.js","sourceRoot":"/Users/justin/workspace/angular2_quckstart/quickstart/node_modules/angular2/es6/prod/","sourcesContent":["import {List,\n  Map,\n  ListWrapper,\n  MapWrapper} from 'angular2/src/facade/collection';\nimport {isPresent,\n  isBlank,\n  RegExpWrapper,\n  RegExpMatcherWrapper,\n  StringWrapper,\n  BaseException} from 'angular2/src/facade/lang';\nconst _EMPTY_ATTR_VALUE = '';\nvar _SELECTOR_REGEXP = RegExpWrapper.create('(\\\\:not\\\\()|' + '([-\\\\w]+)|' + '(?:\\\\.([-\\\\w]+))|' + '(?:\\\\[([-\\\\w*]+)(?:=([^\\\\]]*))?\\\\])|' + '(?:\\\\))|' + '(\\\\s*,\\\\s*)');\nexport class CssSelector {\n  static parse(selector) {\n    var results = ListWrapper.create();\n    var _addResult = (res, cssSel) => {\n      if (isPresent(cssSel.notSelector) && isBlank(cssSel.element) && ListWrapper.isEmpty(cssSel.classNames) && ListWrapper.isEmpty(cssSel.attrs)) {\n        cssSel.element = \"*\";\n      }\n      ListWrapper.push(res, cssSel);\n    };\n    var cssSelector = new CssSelector();\n    var matcher = RegExpWrapper.matcher(_SELECTOR_REGEXP, selector);\n    var match;\n    var current = cssSelector;\n    while (isPresent(match = RegExpMatcherWrapper.next(matcher))) {\n      if (isPresent(match[1])) {\n        if (isPresent(cssSelector.notSelector)) {\n          throw new BaseException('Nesting :not is not allowed in a selector');\n        }\n        current.notSelector = new CssSelector();\n        current = current.notSelector;\n      }\n      if (isPresent(match[2])) {\n        current.setElement(match[2]);\n      }\n      if (isPresent(match[3])) {\n        current.addClassName(match[3]);\n      }\n      if (isPresent(match[4])) {\n        current.addAttribute(match[4], match[5]);\n      }\n      if (isPresent(match[6])) {\n        _addResult(results, cssSelector);\n        cssSelector = current = new CssSelector();\n      }\n    }\n    _addResult(results, cssSelector);\n    return results;\n  }\n  constructor() {\n    this.element = null;\n    this.classNames = ListWrapper.create();\n    this.attrs = ListWrapper.create();\n    this.notSelector = null;\n  }\n  setElement(element = null) {\n    if (isPresent(element)) {\n      element = element.toLowerCase();\n    }\n    this.element = element;\n  }\n  addAttribute(name, value = _EMPTY_ATTR_VALUE) {\n    ListWrapper.push(this.attrs, name.toLowerCase());\n    if (isPresent(value)) {\n      value = value.toLowerCase();\n    } else {\n      value = _EMPTY_ATTR_VALUE;\n    }\n    ListWrapper.push(this.attrs, value);\n  }\n  addClassName(name) {\n    ListWrapper.push(this.classNames, name.toLowerCase());\n  }\n  toString() {\n    var res = '';\n    if (isPresent(this.element)) {\n      res += this.element;\n    }\n    if (isPresent(this.classNames)) {\n      for (var i = 0; i < this.classNames.length; i++) {\n        res += '.' + this.classNames[i];\n      }\n    }\n    if (isPresent(this.attrs)) {\n      for (var i = 0; i < this.attrs.length; ) {\n        var attrName = this.attrs[i++];\n        var attrValue = this.attrs[i++];\n        res += '[' + attrName;\n        if (attrValue.length > 0) {\n          res += '=' + attrValue;\n        }\n        res += ']';\n      }\n    }\n    if (isPresent(this.notSelector)) {\n      res += \":not(\" + this.notSelector.toString() + \")\";\n    }\n    return res;\n  }\n}\nObject.defineProperty(CssSelector.parse, \"parameters\", {get: function() {\n    return [[assert.type.string]];\n  }});\nObject.defineProperty(CssSelector.prototype.setElement, \"parameters\", {get: function() {\n    return [[assert.type.string]];\n  }});\nObject.defineProperty(CssSelector.prototype.addAttribute, \"parameters\", {get: function() {\n    return [[assert.type.string], [assert.type.string]];\n  }});\nObject.defineProperty(CssSelector.prototype.addClassName, \"parameters\", {get: function() {\n    return [[assert.type.string]];\n  }});\nexport class SelectorMatcher {\n  constructor() {\n    this._elementMap = MapWrapper.create();\n    this._elementPartialMap = MapWrapper.create();\n    this._classMap = MapWrapper.create();\n    this._classPartialMap = MapWrapper.create();\n    this._attrValueMap = MapWrapper.create();\n    this._attrValuePartialMap = MapWrapper.create();\n    this._listContexts = ListWrapper.create();\n  }\n  addSelectables(cssSelectors, callbackCtxt) {\n    var listContext = null;\n    if (cssSelectors.length > 1) {\n      listContext = new SelectorListContext(cssSelectors);\n      ListWrapper.push(this._listContexts, listContext);\n    }\n    for (var i = 0; i < cssSelectors.length; i++) {\n      this.addSelectable(cssSelectors[i], callbackCtxt, listContext);\n    }\n  }\n  addSelectable(cssSelector, callbackCtxt, listContext) {\n    var matcher = this;\n    var element = cssSelector.element;\n    var classNames = cssSelector.classNames;\n    var attrs = cssSelector.attrs;\n    var selectable = new SelectorContext(cssSelector, callbackCtxt, listContext);\n    if (isPresent(element)) {\n      var isTerminal = attrs.length === 0 && classNames.length === 0;\n      if (isTerminal) {\n        this._addTerminal(matcher._elementMap, element, selectable);\n      } else {\n        matcher = this._addPartial(matcher._elementPartialMap, element);\n      }\n    }\n    if (isPresent(classNames)) {\n      for (var index = 0; index < classNames.length; index++) {\n        var isTerminal = attrs.length === 0 && index === classNames.length - 1;\n        var className = classNames[index];\n        if (isTerminal) {\n          this._addTerminal(matcher._classMap, className, selectable);\n        } else {\n          matcher = this._addPartial(matcher._classPartialMap, className);\n        }\n      }\n    }\n    if (isPresent(attrs)) {\n      for (var index = 0; index < attrs.length; ) {\n        var isTerminal = index === attrs.length - 2;\n        var attrName = attrs[index++];\n        var attrValue = attrs[index++];\n        var map = isTerminal ? matcher._attrValueMap : matcher._attrValuePartialMap;\n        var valuesMap = MapWrapper.get(map, attrName);\n        if (isBlank(valuesMap)) {\n          valuesMap = MapWrapper.create();\n          MapWrapper.set(map, attrName, valuesMap);\n        }\n        if (isTerminal) {\n          this._addTerminal(valuesMap, attrValue, selectable);\n        } else {\n          matcher = this._addPartial(valuesMap, attrValue);\n        }\n      }\n    }\n  }\n  _addTerminal(map, name, selectable) {\n    var terminalList = MapWrapper.get(map, name);\n    if (isBlank(terminalList)) {\n      terminalList = ListWrapper.create();\n      MapWrapper.set(map, name, terminalList);\n    }\n    ListWrapper.push(terminalList, selectable);\n  }\n  _addPartial(map, name) {\n    var matcher = MapWrapper.get(map, name);\n    if (isBlank(matcher)) {\n      matcher = new SelectorMatcher();\n      MapWrapper.set(map, name, matcher);\n    }\n    return matcher;\n  }\n  match(cssSelector, matchedCallback) {\n    var result = false;\n    var element = cssSelector.element;\n    var classNames = cssSelector.classNames;\n    var attrs = cssSelector.attrs;\n    for (var i = 0; i < this._listContexts.length; i++) {\n      this._listContexts[i].alreadyMatched = false;\n    }\n    result = this._matchTerminal(this._elementMap, element, cssSelector, matchedCallback) || result;\n    result = this._matchPartial(this._elementPartialMap, element, cssSelector, matchedCallback) || result;\n    if (isPresent(classNames)) {\n      for (var index = 0; index < classNames.length; index++) {\n        var className = classNames[index];\n        result = this._matchTerminal(this._classMap, className, cssSelector, matchedCallback) || result;\n        result = this._matchPartial(this._classPartialMap, className, cssSelector, matchedCallback) || result;\n      }\n    }\n    if (isPresent(attrs)) {\n      for (var index = 0; index < attrs.length; ) {\n        var attrName = attrs[index++];\n        var attrValue = attrs[index++];\n        var valuesMap = MapWrapper.get(this._attrValueMap, attrName);\n        if (!StringWrapper.equals(attrValue, _EMPTY_ATTR_VALUE)) {\n          result = this._matchTerminal(valuesMap, _EMPTY_ATTR_VALUE, cssSelector, matchedCallback) || result;\n        }\n        result = this._matchTerminal(valuesMap, attrValue, cssSelector, matchedCallback) || result;\n        valuesMap = MapWrapper.get(this._attrValuePartialMap, attrName);\n        result = this._matchPartial(valuesMap, attrValue, cssSelector, matchedCallback) || result;\n      }\n    }\n    return result;\n  }\n  _matchTerminal(map = null, name, cssSelector, matchedCallback) {\n    if (isBlank(map) || isBlank(name)) {\n      return false;\n    }\n    var selectables = MapWrapper.get(map, name);\n    var starSelectables = MapWrapper.get(map, \"*\");\n    if (isPresent(starSelectables)) {\n      selectables = ListWrapper.concat(selectables, starSelectables);\n    }\n    if (isBlank(selectables)) {\n      return false;\n    }\n    var selectable;\n    var result = false;\n    for (var index = 0; index < selectables.length; index++) {\n      selectable = selectables[index];\n      result = selectable.finalize(cssSelector, matchedCallback) || result;\n    }\n    return result;\n  }\n  _matchPartial(map = null, name, cssSelector, matchedCallback) {\n    if (isBlank(map) || isBlank(name)) {\n      return false;\n    }\n    var nestedSelector = MapWrapper.get(map, name);\n    if (isBlank(nestedSelector)) {\n      return false;\n    }\n    return nestedSelector.match(cssSelector, matchedCallback);\n  }\n}\nObject.defineProperty(SelectorMatcher.prototype.addSelectables, \"parameters\", {get: function() {\n    return [[assert.genericType(List, CssSelector)], []];\n  }});\nObject.defineProperty(SelectorMatcher.prototype.addSelectable, \"parameters\", {get: function() {\n    return [[], [], [SelectorListContext]];\n  }});\nObject.defineProperty(SelectorMatcher.prototype._addTerminal, \"parameters\", {get: function() {\n    return [[assert.genericType(Map, assert.type.string, assert.type.string)], [assert.type.string], []];\n  }});\nObject.defineProperty(SelectorMatcher.prototype._addPartial, \"parameters\", {get: function() {\n    return [[assert.genericType(Map, assert.type.string, assert.type.string)], [assert.type.string]];\n  }});\nObject.defineProperty(SelectorMatcher.prototype.match, \"parameters\", {get: function() {\n    return [[CssSelector], [Function]];\n  }});\nObject.defineProperty(SelectorMatcher.prototype._matchTerminal, \"parameters\", {get: function() {\n    return [[assert.genericType(Map, assert.type.string, assert.type.string)], [], [], []];\n  }});\nObject.defineProperty(SelectorMatcher.prototype._matchPartial, \"parameters\", {get: function() {\n    return [[assert.genericType(Map, assert.type.string, assert.type.string)], [], [], []];\n  }});\nclass SelectorListContext {\n  constructor(selectors) {\n    this.selectors = selectors;\n    this.alreadyMatched = false;\n  }\n}\nObject.defineProperty(SelectorListContext, \"parameters\", {get: function() {\n    return [[assert.genericType(List, CssSelector)]];\n  }});\nclass SelectorContext {\n  constructor(selector, cbContext, listContext) {\n    this.selector = selector;\n    this.notSelector = selector.notSelector;\n    this.cbContext = cbContext;\n    this.listContext = listContext;\n  }\n  finalize(cssSelector, callback) {\n    var result = true;\n    if (isPresent(this.notSelector) && (isBlank(this.listContext) || !this.listContext.alreadyMatched)) {\n      var notMatcher = new SelectorMatcher();\n      notMatcher.addSelectable(this.notSelector, null, null);\n      result = !notMatcher.match(cssSelector, null);\n    }\n    if (result && isPresent(callback) && (isBlank(this.listContext) || !this.listContext.alreadyMatched)) {\n      if (isPresent(this.listContext)) {\n        this.listContext.alreadyMatched = true;\n      }\n      callback(this.selector, this.cbContext);\n    }\n    return result;\n  }\n}\nObject.defineProperty(SelectorContext, \"parameters\", {get: function() {\n    return [[CssSelector], [], [SelectorListContext]];\n  }});\nObject.defineProperty(SelectorContext.prototype.finalize, \"parameters\", {get: function() {\n    return [[CssSelector], []];\n  }});\n//# sourceMappingURL=selector.js.map\n\n//# sourceMappingURL=./selector.map"]}