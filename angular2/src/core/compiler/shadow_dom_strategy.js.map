{"version":3,"sources":["shadow_dom_strategy.js"],"names":[],"mappings":"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","file":"src/core/compiler/shadow_dom_strategy.js","sourceRoot":"/Users/justin/workspace/angular2_quckstart/quickstart/node_modules/angular2/es6/prod/","sourcesContent":["import {Injectable} from 'angular2/di';\nimport {Type,\n  isBlank,\n  isPresent,\n  int,\n  StringWrapper,\n  assertionsEnabled} from 'angular2/src/facade/lang';\nimport {List,\n  ListWrapper,\n  MapWrapper,\n  Map} from 'angular2/src/facade/collection';\nimport {PromiseWrapper} from 'angular2/src/facade/async';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport * as viewModule from './view';\nimport {LightDom} from './shadow_dom_emulation/light_dom';\nimport {ShadowCss} from './shadow_dom_emulation/shadow_css';\nimport {StyleInliner} from './style_inliner';\nimport {StyleUrlResolver} from './style_url_resolver';\nimport {DirectiveMetadata} from './directive_metadata';\nimport * as NS from './pipeline/compile_step';\nimport {CompileElement} from './pipeline/compile_element';\nimport {CompileControl} from './pipeline/compile_control';\nvar _EMPTY_STEP;\nfunction _emptyStep() {\n  if (isBlank(_EMPTY_STEP)) {\n    _EMPTY_STEP = new _EmptyCompileStep();\n  }\n  return _EMPTY_STEP;\n}\nexport class ShadowDomStrategy {\n  attachTemplate(el, view) {}\n  constructLightDom(lightDomView, shadowDomView, el) {\n    return null;\n  }\n  getStyleCompileStep(cmpMetadata, templateUrl) {\n    return _emptyStep();\n  }\n  getTemplateCompileStep(cmpMetadata) {\n    return _emptyStep();\n  }\n  shimAppElement(cmpMetadata, element) {}\n}\nObject.defineProperty(ShadowDomStrategy.prototype.attachTemplate, \"parameters\", {get: function() {\n    return [[], [viewModule.View]];\n  }});\nObject.defineProperty(ShadowDomStrategy.prototype.constructLightDom, \"parameters\", {get: function() {\n    return [[viewModule.View], [viewModule.View], []];\n  }});\nObject.defineProperty(ShadowDomStrategy.prototype.getStyleCompileStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata], [assert.type.string]];\n  }});\nObject.defineProperty(ShadowDomStrategy.prototype.getTemplateCompileStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata]];\n  }});\nObject.defineProperty(ShadowDomStrategy.prototype.shimAppElement, \"parameters\", {get: function() {\n    return [[DirectiveMetadata], []];\n  }});\nexport class EmulatedUnscopedShadowDomStrategy extends ShadowDomStrategy {\n  constructor(styleUrlResolver, styleHost) {\n    super();\n    this._styleUrlResolver = styleUrlResolver;\n    this._styleHost = styleHost;\n  }\n  attachTemplate(el, view) {\n    DOM.clearNodes(el);\n    _moveViewNodesIntoParent(el, view);\n  }\n  constructLightDom(lightDomView, shadowDomView, el) {\n    return new LightDom(lightDomView, shadowDomView, el);\n  }\n  getStyleCompileStep(cmpMetadata, templateUrl) {\n    return new _EmulatedUnscopedCssStep(cmpMetadata, templateUrl, this._styleUrlResolver, this._styleHost);\n  }\n  getTemplateCompileStep(cmpMetadata) {\n    return new _BaseEmulatedShadowDomStep();\n  }\n}\nObject.defineProperty(EmulatedUnscopedShadowDomStrategy, \"annotations\", {get: function() {\n    return [new Injectable()];\n  }});\nObject.defineProperty(EmulatedUnscopedShadowDomStrategy, \"parameters\", {get: function() {\n    return [[StyleUrlResolver], []];\n  }});\nObject.defineProperty(EmulatedUnscopedShadowDomStrategy.prototype.attachTemplate, \"parameters\", {get: function() {\n    return [[], [viewModule.View]];\n  }});\nObject.defineProperty(EmulatedUnscopedShadowDomStrategy.prototype.constructLightDom, \"parameters\", {get: function() {\n    return [[viewModule.View], [viewModule.View], []];\n  }});\nObject.defineProperty(EmulatedUnscopedShadowDomStrategy.prototype.getStyleCompileStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata], [assert.type.string]];\n  }});\nObject.defineProperty(EmulatedUnscopedShadowDomStrategy.prototype.getTemplateCompileStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata]];\n  }});\nexport class EmulatedScopedShadowDomStrategy extends EmulatedUnscopedShadowDomStrategy {\n  constructor(styleInliner, styleUrlResolver, styleHost) {\n    super(styleUrlResolver, styleHost);\n    this._styleInliner = styleInliner;\n  }\n  getStyleCompileStep(cmpMetadata, templateUrl) {\n    return new _EmulatedScopedCssStep(cmpMetadata, templateUrl, this._styleInliner, this._styleUrlResolver, this._styleHost);\n  }\n  getTemplateCompileStep(cmpMetadata) {\n    return new _ShimShadowDomStep(cmpMetadata);\n  }\n  shimAppElement(cmpMetadata, element) {\n    var cmpType = cmpMetadata.type;\n    var hostAttribute = _getHostAttribute(_getComponentId(cmpType));\n    DOM.setAttribute(element, hostAttribute, '');\n  }\n}\nObject.defineProperty(EmulatedScopedShadowDomStrategy, \"annotations\", {get: function() {\n    return [new Injectable()];\n  }});\nObject.defineProperty(EmulatedScopedShadowDomStrategy, \"parameters\", {get: function() {\n    return [[StyleInliner], [StyleUrlResolver], []];\n  }});\nObject.defineProperty(EmulatedScopedShadowDomStrategy.prototype.getStyleCompileStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata], [assert.type.string]];\n  }});\nObject.defineProperty(EmulatedScopedShadowDomStrategy.prototype.getTemplateCompileStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata]];\n  }});\nObject.defineProperty(EmulatedScopedShadowDomStrategy.prototype.shimAppElement, \"parameters\", {get: function() {\n    return [[DirectiveMetadata], []];\n  }});\nexport class NativeShadowDomStrategy extends ShadowDomStrategy {\n  constructor(styleUrlResolver) {\n    super();\n    this._styleUrlResolver = styleUrlResolver;\n  }\n  attachTemplate(el, view) {\n    _moveViewNodesIntoParent(DOM.createShadowRoot(el), view);\n  }\n  getStyleCompileStep(cmpMetadata, templateUrl) {\n    return new _NativeCssStep(templateUrl, this._styleUrlResolver);\n  }\n}\nObject.defineProperty(NativeShadowDomStrategy, \"annotations\", {get: function() {\n    return [new Injectable()];\n  }});\nObject.defineProperty(NativeShadowDomStrategy, \"parameters\", {get: function() {\n    return [[StyleUrlResolver]];\n  }});\nObject.defineProperty(NativeShadowDomStrategy.prototype.attachTemplate, \"parameters\", {get: function() {\n    return [[], [viewModule.View]];\n  }});\nObject.defineProperty(NativeShadowDomStrategy.prototype.getStyleCompileStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata], [assert.type.string]];\n  }});\nclass _BaseEmulatedShadowDomStep extends NS.CompileStep {\n  process(parent, current, control) {\n    if (current.ignoreBindings) {\n      return ;\n    }\n    var nodeName = DOM.nodeName(current.element);\n    if (StringWrapper.equals(nodeName.toUpperCase(), 'CONTENT')) {\n      var attrs = current.attrs();\n      var selector = MapWrapper.get(attrs, 'select');\n      current.contentTagSelector = isPresent(selector) ? selector : '';\n      var contentStart = DOM.createScriptTag('type', 'ng/contentStart');\n      if (assertionsEnabled()) {\n        DOM.setAttribute(contentStart, 'select', current.contentTagSelector);\n      }\n      var contentEnd = DOM.createScriptTag('type', 'ng/contentEnd');\n      DOM.insertBefore(current.element, contentStart);\n      DOM.insertBefore(current.element, contentEnd);\n      DOM.remove(current.element);\n      current.element = contentStart;\n    }\n  }\n}\nObject.defineProperty(_BaseEmulatedShadowDomStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nclass _EmptyCompileStep extends NS.CompileStep {\n  process(parent, current, control) {}\n}\nObject.defineProperty(_EmptyCompileStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nclass _ShimShadowDomStep extends _BaseEmulatedShadowDomStep {\n  constructor(cmpMetadata) {\n    super();\n    var id = _getComponentId(cmpMetadata.type);\n    this._contentAttribute = _getContentAttribute(id);\n  }\n  process(parent, current, control) {\n    super.process(parent, current, control);\n    if (current.ignoreBindings) {\n      return ;\n    }\n    DOM.setAttribute(current.element, this._contentAttribute, '');\n    var host = current.componentDirective;\n    if (isPresent(host)) {\n      var hostId = _getComponentId(host.type);\n      var hostAttribute = _getHostAttribute(hostId);\n      DOM.setAttribute(current.element, hostAttribute, '');\n    }\n  }\n}\nObject.defineProperty(_ShimShadowDomStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata]];\n  }});\nObject.defineProperty(_ShimShadowDomStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nclass _EmulatedUnscopedCssStep extends NS.CompileStep {\n  constructor(cmpMetadata, templateUrl, styleUrlResolver, styleHost) {\n    super();\n    this._templateUrl = templateUrl;\n    this._styleUrlResolver = styleUrlResolver;\n    this._styleHost = styleHost;\n  }\n  process(parent, current, control) {\n    var styleEl = current.element;\n    var cssText = DOM.getText(styleEl);\n    cssText = this._styleUrlResolver.resolveUrls(cssText, this._templateUrl);\n    DOM.setText(styleEl, cssText);\n    DOM.remove(styleEl);\n    if (!MapWrapper.contains(_sharedStyleTexts, cssText)) {\n      MapWrapper.set(_sharedStyleTexts, cssText, true);\n      _insertStyleElement(this._styleHost, styleEl);\n    }\n  }\n}\nObject.defineProperty(_EmulatedUnscopedCssStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata], [assert.type.string], [StyleUrlResolver], []];\n  }});\nObject.defineProperty(_EmulatedUnscopedCssStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nclass _EmulatedScopedCssStep extends NS.CompileStep {\n  constructor(cmpMetadata, templateUrl, styleInliner, styleUrlResolver, styleHost) {\n    super();\n    this._templateUrl = templateUrl;\n    this._component = cmpMetadata.type;\n    this._styleInliner = styleInliner;\n    this._styleUrlResolver = styleUrlResolver;\n    this._styleHost = styleHost;\n  }\n  process(parent, current, control) {\n    var styleEl = current.element;\n    var cssText = DOM.getText(styleEl);\n    cssText = this._styleUrlResolver.resolveUrls(cssText, this._templateUrl);\n    var css = this._styleInliner.inlineImports(cssText, this._templateUrl);\n    if (PromiseWrapper.isPromise(css)) {\n      DOM.setText(styleEl, '');\n      ListWrapper.push(parent.inheritedProtoView.stylePromises, css);\n      return css.then((css) => {\n        css = _shimCssForComponent(css, this._component);\n        DOM.setText(styleEl, css);\n      });\n    } else {\n      css = _shimCssForComponent(css, this._component);\n      DOM.setText(styleEl, css);\n    }\n    DOM.remove(styleEl);\n    _insertStyleElement(this._styleHost, styleEl);\n  }\n}\nObject.defineProperty(_EmulatedScopedCssStep, \"parameters\", {get: function() {\n    return [[DirectiveMetadata], [assert.type.string], [StyleInliner], [StyleUrlResolver], []];\n  }});\nObject.defineProperty(_EmulatedScopedCssStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nclass _NativeCssStep extends NS.CompileStep {\n  constructor(templateUrl, styleUrlResover) {\n    super();\n    this._styleUrlResolver = styleUrlResover;\n    this._templateUrl = templateUrl;\n  }\n  process(parent, current, control) {\n    var styleEl = current.element;\n    var cssText = DOM.getText(styleEl);\n    cssText = this._styleUrlResolver.resolveUrls(cssText, this._templateUrl);\n    DOM.setText(styleEl, cssText);\n  }\n}\nObject.defineProperty(_NativeCssStep, \"parameters\", {get: function() {\n    return [[assert.type.string], [StyleUrlResolver]];\n  }});\nObject.defineProperty(_NativeCssStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nfunction _moveViewNodesIntoParent(parent, view) {\n  for (var i = 0; i < view.nodes.length; ++i) {\n    DOM.appendChild(parent, view.nodes[i]);\n  }\n}\nvar _componentUIDs = MapWrapper.create();\nvar _nextComponentUID = 0;\nvar _sharedStyleTexts = MapWrapper.create();\nvar _lastInsertedStyleEl;\nfunction _getComponentId(component) {\n  var id = MapWrapper.get(_componentUIDs, component);\n  if (isBlank(id)) {\n    id = _nextComponentUID++;\n    MapWrapper.set(_componentUIDs, component, id);\n  }\n  return id;\n}\nObject.defineProperty(_getComponentId, \"parameters\", {get: function() {\n    return [[Type]];\n  }});\nfunction _insertStyleElement(host, styleEl) {\n  if (isBlank(_lastInsertedStyleEl)) {\n    var firstChild = DOM.firstChild(host);\n    if (isPresent(firstChild)) {\n      DOM.insertBefore(firstChild, styleEl);\n    } else {\n      DOM.appendChild(host, styleEl);\n    }\n  } else {\n    DOM.insertAfter(_lastInsertedStyleEl, styleEl);\n  }\n  _lastInsertedStyleEl = styleEl;\n}\nfunction _getHostAttribute(id) {\n  return `_nghost-${id}`;\n}\nObject.defineProperty(_getHostAttribute, \"parameters\", {get: function() {\n    return [[int]];\n  }});\nfunction _getContentAttribute(id) {\n  return `_ngcontent-${id}`;\n}\nObject.defineProperty(_getContentAttribute, \"parameters\", {get: function() {\n    return [[int]];\n  }});\nfunction _shimCssForComponent(cssText, component) {\n  var id = _getComponentId(component);\n  var shadowCss = new ShadowCss();\n  return shadowCss.shimCssText(cssText, _getContentAttribute(id), _getHostAttribute(id));\n}\nObject.defineProperty(_shimCssForComponent, \"parameters\", {get: function() {\n    return [[assert.type.string], [Type]];\n  }});\nexport function resetShadowDomCache() {\n  MapWrapper.clear(_componentUIDs);\n  _nextComponentUID = 0;\n  MapWrapper.clear(_sharedStyleTexts);\n  _lastInsertedStyleEl = null;\n}\n//# sourceMappingURL=shadow_dom_strategy.js.map\n\n//# sourceMappingURL=./shadow_dom_strategy.map"]}