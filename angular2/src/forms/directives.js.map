{"version":3,"sources":["directives.js"],"names":[],"mappings":"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","file":"src/forms/directives.js","sourceRoot":"/Users/justin/workspace/angular2_quckstart/quickstart/node_modules/angular2/es6/prod/","sourcesContent":["import {Template,\n  Component,\n  Decorator,\n  Ancestor,\n  onChange,\n  PropertySetter} from 'angular2/angular2';\nimport {Optional} from 'angular2/di';\nimport {isBlank,\n  isPresent,\n  isString,\n  CONST} from 'angular2/src/facade/lang';\nimport {StringMapWrapper,\n  ListWrapper} from 'angular2/src/facade/collection';\nimport {ControlGroup,\n  Control} from './model';\nimport {Validators} from './validators';\nexport class DefaultValueAccessor {\n  constructor(setValueProperty) {\n    this._setValueProperty = setValueProperty;\n    this.onChange = (_) => {};\n  }\n  writeValue(value) {\n    this._setValueProperty(value);\n  }\n}\nObject.defineProperty(DefaultValueAccessor, \"annotations\", {get: function() {\n    return [new Decorator({\n      selector: '[control]',\n      events: {\n        'change': 'onChange($event.target.value)',\n        'input': 'onChange($event.target.value)'\n      }\n    })];\n  }});\nObject.defineProperty(DefaultValueAccessor, \"parameters\", {get: function() {\n    return [[Function, new PropertySetter('value')]];\n  }});\nexport class CheckboxControlValueAccessor {\n  constructor(cd, setCheckedProperty) {\n    this._setCheckedProperty = setCheckedProperty;\n    this.onChange = (_) => {};\n    cd.valueAccessor = this;\n  }\n  writeValue(value) {\n    this._setCheckedProperty(value);\n  }\n}\nObject.defineProperty(CheckboxControlValueAccessor, \"annotations\", {get: function() {\n    return [new Decorator({\n      selector: 'input[type=checkbox]',\n      events: {'change': 'onChange($event.target.checked)'}\n    })];\n  }});\nObject.defineProperty(CheckboxControlValueAccessor, \"parameters\", {get: function() {\n    return [[ControlDirective], [Function, new PropertySetter('checked')]];\n  }});\nexport class ControlDirective {\n  constructor(groupDirective, valueAccessor) {\n    this._groupDirective = groupDirective;\n    this.controlOrName = null;\n    this.valueAccessor = valueAccessor;\n    this.validator = Validators.nullValidator;\n  }\n  onChange(_) {\n    this._initialize();\n  }\n  _initialize() {\n    if (isPresent(this._groupDirective)) {\n      this._groupDirective.addDirective(this);\n    }\n    var c = this._control();\n    c.validator = Validators.compose([c.validator, this.validator]);\n    this._updateDomValue();\n    this._setUpUpdateControlValue();\n  }\n  _updateDomValue() {\n    this.valueAccessor.writeValue(this._control().value);\n  }\n  _setUpUpdateControlValue() {\n    this.valueAccessor.onChange = (newValue) => this._control().updateValue(newValue);\n  }\n  _control() {\n    if (isString(this.controlOrName)) {\n      return this._groupDirective.findControl(this.controlOrName);\n    } else {\n      return this.controlOrName;\n    }\n  }\n}\nObject.defineProperty(ControlDirective, \"annotations\", {get: function() {\n    return [new Decorator({\n      lifecycle: [onChange],\n      selector: '[control]',\n      bind: {'controlOrName': 'control'}\n    })];\n  }});\nObject.defineProperty(ControlDirective, \"parameters\", {get: function() {\n    return [[ControlGroupDirective, new Optional(), new Ancestor()], [DefaultValueAccessor]];\n  }});\nexport class ControlGroupDirective {\n  constructor(groupDirective) {\n    this._groupDirective = groupDirective;\n    this._directives = ListWrapper.create();\n  }\n  set controlGroup(controlGroup) {\n    if (isString(controlGroup)) {\n      this._controlGroupName = controlGroup;\n    } else {\n      this._controlGroup = controlGroup;\n    }\n    this._updateDomValue();\n  }\n  _updateDomValue() {\n    ListWrapper.forEach(this._directives, (cd) => cd._updateDomValue());\n  }\n  addDirective(c) {\n    ListWrapper.push(this._directives, c);\n  }\n  findControl(name) {\n    return this._getControlGroup().controls[name];\n  }\n  _getControlGroup() {\n    if (isPresent(this._controlGroupName)) {\n      return this._groupDirective.findControl(this._controlGroupName);\n    } else {\n      return this._controlGroup;\n    }\n  }\n}\nObject.defineProperty(ControlGroupDirective, \"annotations\", {get: function() {\n    return [new Decorator({\n      selector: '[control-group]',\n      bind: {'controlGroup': 'control-group'}\n    })];\n  }});\nObject.defineProperty(ControlGroupDirective, \"parameters\", {get: function() {\n    return [[ControlGroupDirective, new Optional(), new Ancestor()]];\n  }});\nObject.defineProperty(ControlGroupDirective.prototype.addDirective, \"parameters\", {get: function() {\n    return [[ControlDirective]];\n  }});\nObject.defineProperty(ControlGroupDirective.prototype.findControl, \"parameters\", {get: function() {\n    return [[assert.type.string]];\n  }});\nexport var FormDirectives = [ControlGroupDirective, ControlDirective, CheckboxControlValueAccessor, DefaultValueAccessor];\n//# sourceMappingURL=directives.js.map\n\n//# sourceMappingURL=./directives.map"]}